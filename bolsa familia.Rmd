---
title: "Bolsa famiia"
author: "Erick Nasareth"
date: "2025-04-20"
output: pdf_document
---

```{r}
if (!require("pacman")) install.packages("pacman")
pacman::p_load("tidyverse", "readxl")
```

Carregando os bancos que contem promocao em saude relacionado ao bolsa familia e a população, todos atualizados para 2023. 

```{r}

bolsa_familia <- read_xlsx("Data/bolsa_familia_consolidado_geral_2023.xlsx")
populacao <- read_xls("Data/pop_cadastrada_2023.xls")
atendimento <- read_xlsx("Data/atendimento_saude_2023.xlsx")
palestras <- read_xlsx("Data/palestras_municipio_2023.xlsx") #temas
praticas <- read_xlsx("Data/praticas2023.xlsx")

```

ajustes necessários para trabalhar com os bancos

```{r}

bolsa_familia <- rename(bolsa_familia, Ibge = IBGE)
populacao <- rename(populacao, Ibge = IBGE)
praticas$Ibge <- as.double(praticas$Ibge)

```

selecionando colunas que serão utilizadas em cada banco

```{r}

```


Juntando os dois em apenas um banco, a partir da variavel codigo do IBGE para cada municipio.

```{r}
lista_dfs <- list(bolsa_familia, populacao, atendimento, palestras, praticas)

# Junta tudo pela coluna "Ibge" (full join, ou seja, traz todos os dados possíveis)
df <- reduce(lista_dfs, full_join, by = "Ibge")

```


```{r}
bolsa <- bolsa %>%
  mutate(-Vigência, -Município.y, -UF)
```











